!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="65cd4c1f-bbe8-4828-a11f-8c01295795b9",e._sentryDebugIdIdentifier="sentry-dbid-65cd4c1f-bbe8-4828-a11f-8c01295795b9")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"35ecf50c"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4009],{6016:(e,r,n)=>{n.d(r,{u9:()=>p,Pz:()=>u});var t=n(29935),a=n(82643),o=function(){var e=(0,t._)(function(e){var r,n,t;return(0,a.YH)(this,function(a){return r=e.dbName,n=e.version,t=e.onUpgrade,[2,new Promise(function(e,a){var o=indexedDB.open(r,n);o.onerror=function(){var e;return a(Error("Failed to open database: ".concat(null===(e=o.error)||void 0===e?void 0:e.message)))},o.onsuccess=function(){return e(o.result)},t&&(o.onupgradeneeded=function(e){var r=e.target;r instanceof IDBOpenDBRequest&&r.result?t(r.result):a(Error("Invalid target during upgrade."))})})]})});return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,t._)(function(e){var r,n,t,o;return(0,a.YH)(this,function(a){return r=e.db,n=e.storeName,t=e.mode,o=e.operation,[2,new Promise(function(e,a){if(!r.objectStoreNames.contains(n))return a(Error('Object store "'.concat(n,'" does not exist in the database.')));var i=r.transaction([n],t),s=o(i.objectStore(n));s.onsuccess=function(){return e(s.result)},s.onerror=function(){var e;return a(Error("Transaction error: ".concat(null===(e=s.error)||void 0===e?void 0:e.message)))},i.onabort=function(){return a(Error("Transaction was aborted."))},i.onerror=function(){return a(Error("Transaction encountered an error."))}})]})});return function(r){return e.apply(this,arguments)}}(),s="LandingPageAgentAttachments",l=null,c=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){return l?[2,l]:[2,l=o({dbName:"ReplitAgentAttachments",version:1,onUpgrade:function(e){e.objectStoreNames.contains(s)||e.createObjectStore(s,{keyPath:"id",autoIncrement:!0})}})]})});return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,c()];case 1:var r;return[2,i({db:(r={db:e.sent(),storeName:s}).db,storeName:r.storeName,mode:"readonly",operation:function(e){return e.getAll()}})]}})});return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,c()];case 1:var r;return[2,i({db:(r={db:e.sent(),storeName:s}).db,storeName:r.storeName,mode:"readwrite",operation:function(e){return e.clear()}})]}})});return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,d()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2];case 3:return[2]}})});return function(){return e.apply(this,arguments)}}()},10990:(e,r,n)=>{n.d(r,{$:()=>l,O:()=>s});var t=n(17844),a=n(21462),o=n(23099),i=n.n(o);function s(e){var r=e.repl,n=e.currentUser;return{asViewer:e.asViewer,repl:{__typename:"Repl",authorizations:r.authorizations,id:r.id,language:r.language},currentUser:n?{__typename:"CurrentUser",id:n.id,username:n.username,isSubscribed:n.isSubscribed,roles:n.roles}:void 0}}function l(e){var r=e?s((0,t._)({},e)):null,n=(0,a.useRef)(r);return i()(r,n.current)||(n.current=r),n.current}},29787:(e,r,n)=>{n.d(r,{U:()=>o});var t=n(84789),a=n(80865);function o(){var e=(0,t.a)(),r=(0,a._P)({controlName:"flag-lobby-creation"});return!e&&r}},32466:(e,r,n)=>{n.d(r,{A:()=>U});var t={};n.r(t),n.d(t,{checkAndTrack:()=>E,ensureTrackedFile:()=>y,storeOp:()=>b});var a=n(19884),o=n(63892),i=n(29935),s=n(12694),l=n(22531),c=n(82643),u=n(52535),d=n(53669),p=n(17844),f={};function m(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.info("ot client dataloss",(0,p._)({case:r,startTime:n.startTime,opsSinceFlush:n.opsSinceFlush,whileReconnecting:n.whileReconnecting,replid:n.replId,filePath:n.filePath},t))}var h={replsList:function(){return"dataLossRepls"},replFiles:function(e){return"dataLossReplFiles".concat(e)},latestOp:function(e,r){return"dataLossLatestOp--".concat(e,"--").concat(r)},latestFlushedOp:function(e,r){return"dataLossLatestFlushed--".concat(e,"--").concat(r)},latestOwnOp:function(e,r){return"dataLosslatestOwnOp--".concat(e,"--").concat(r)},opsSinceFlush:function(e,r){return"dataLossOpsSinceFlush--".concat(e,"--").concat(r)}};function v(){var e=d.A.get(h.replsList(),"array");return e||(e=[],d.A.set(h.replsList(),e)),e}function _(e){var r=d.A.get(h.replFiles(e),"array");return r||(r=[],d.A.set(h.replFiles(e),r)),r}function g(e){var r=_(e),n=!0,t=!1,a=void 0;try{for(var o,i=r[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;"string"==typeof s&&!function(e,r){d.A.remove(h.latestOp(e,r)),d.A.remove(h.latestFlushedOp(e,r)),d.A.remove(h.latestOwnOp(e,r));var n=_(e).filter(function(e){return e!==r});d.A.set(h.replFiles(e),n)}(e,s)}}catch(e){t=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw a}}d.A.remove(h.replFiles(e));var l=v().filter(function(r){return r!==e});d.A.set(h.replsList(),l)}function y(e){var r,n,t=e.replId,a=e.filePath;r=t,(n=v()).includes(r)||(n.length>20?(g(n[0]),n[0]=r):n.push(r),d.A.set(h.replsList(),n));var o=_(t);!o.includes(a)&&(o.length>20?(g(o[0]),o[0]=a):o.push(a),d.A.set(h.replFiles(t),o))}function b(e){var r=e.filePath,n=e.replId,t=e.opType,a=e.op;!function(e){var r=e.filePath,n=e.replId,t=e.opType,a=e.logger,o=e.isReconnecting,i=m.bind(null,a),s="".concat(n,"--").concat(r);f[s]||(f[s]={replId:n,filePath:r,timer:null,startTime:null,whileReconnecting:0,opsSinceFlush:0});var l=f[s];if("latestFlushedOp"===t){delete f[s];var c=l.startTime;if(c){var u=Date.now()-c;u>6e4&&i("flush_delay_received",l,{elapsed:u})}var d=l.timer;d&&(clearTimeout(d),l.timer=null)}else{l.opsSinceFlush+=1,o&&(l.whileReconnecting+=1);var p,h=null!==(p=l.startTime)&&void 0!==p?p:Date.now();l.startTime=h,l.timer||(l.timer=setTimeout(function(){i("flush_delay_timeout",l)},6e4)),150===l.opsSinceFlush?i("flush_delay_small",l):1e3===l.opsSinceFlush&&i("flush_delay_large",l)}}({filePath:r,replId:n,opType:t,logger:e.logger,isReconnecting:e.isReconnecting}),d.A.set(h[t](n,r),a)}var T={};function E(e){return I.apply(this,arguments)}function I(){return(I=(0,i._)(function(e){var r,n,t,a,o,p,f,m;return(0,c.YH)(this,function(v){var _;return(r=e.filePath,n=e.replId,t=e.serverVersion,a=e.serverContent,o=e.fetchOps,p=e.logger,T[r+n])?[2]:(T[r+n]=!0,f=function(e,r){var n={latestOp:null,latestFlushedOp:null,latestOwnOp:null},t=Object.keys(n),a=!0,o=!1,i=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value,p=d.A.get(h[u](e,r),"object");p&&p&&(void 0===p?"undefined":(0,l._)(p))==="object"&&"number"==typeof p.crc32&&"number"==typeof p.version&&(n[u]=p)}}catch(e){o=!0,i=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw i}}return n}(n,r),m=u.str(a)>>>0,Object.keys(f).forEach((_=(0,i._)(function(e){var r,n,a;return(0,c.YH)(this,function(i){switch(i.label){case 0:if(!(r=f[e]))return[2];if(t<r.version)return p.info("ot client dataloss",{opType:e,case:"server_forgot"}),[2];if(t===r.version)return m!==r.crc32&&p.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o(r.version,r.version)];case 2:return n=s._.apply(void 0,[i.sent(),1])[0],[3,4];case 3:return a=i.sent(),p.info("ot client dataloss",{opType:e,case:"error_fetching_op",originalError:String(a)}),[2];case 4:if(!n)return p.info("ot client dataloss",{opType:e,case:"op_not_found"}),[2];return n.crc32!==r.crc32&&p.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2]}})}),function(e){return _.apply(this,arguments)})),[2])})})).apply(this,arguments)}function U(e){var r=e.container;return(0,a.Ay)({container:r,dataloss:t,track:o.u4})}},44009:(e,r,n)=>{n.d(r,{M:()=>G});var t=n(29935),a=n(17844),o=n(93629),i=n(12694),s=n(82643),l=n(4124),c=n(21462),u=n(12584),d=n(41114),p=n(50175),f=n(86997),m=n(77381),h=n(24874);function v(){var e=(0,u._)(["\n  mutation CreateAgentReplCreateRepl($input: CreateReplInput!) {\n    createRepl(input: $input, isTitleAutoGenerated: false) {\n      ... on Repl {\n        id\n        url\n        isPrivate\n        nextPagePathname\n        origin {\n          id\n          isOwner\n        }\n        source {\n          release {\n            id\n            repl {\n              id\n              title\n              owner {\n                ... on User {\n                  id\n                  username\n                }\n                ... on Team {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n        ...CrosisContextRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function _(){var e=(0,u._)(["\n  query CreateAgentReplCurrentUser {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n      fullName\n      username\n      ...CrosisContextCurrentUser\n      personalOrgAuthorizations {\n        ...CreateReplAuthorizations\n      }\n      replCount {\n        ... on ReplCount {\n          count\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}var g={},y=(0,d.J1)(v(),m.c),b=(0,d.J1)(_(),m.N,h.Ev),T=n(90629),E=n(61756),I=n(72004),U=n(26496),w=n(11646),A=n(80865),R=n(93415),C=n(63892),S=n(73978),O=n(66199),P=n(29787),F=n(81239),N=n(6016),k=n(47160),L=n(11733),D=n(21762),Y=n(31930),H=n(10990),x=n(46838),j=n(32466),q=n(54086),V=n(95120),$=n(25936),M=n(4999);function G(e){var r,n,u,d,m,h,v,_,j,q,V,G,Z,B,W,J,K,Q,X,ee,er=e.currentUser,en=(0,i._)((0,c.useState)("idle"),2),et=en[0],ea=en[1],eo=(0,L.pE)("folderId","string"),ei=(0,R.m6)(),es=(0,F.A)().showError,el=(0,i._)((h=(0,a._)({},g,void 0),p.n(y,h)),1)[0],ec=(u=(n=(r=(0,a._)({},g,void 0),f.I(b,r))).data,d=n.error,m=n.loading,d?{loading:!1,currentUser:null,errorCode:500}:(null==u?void 0:u.currentUser)?{loading:!1,currentUser:u.currentUser,errorCode:null}:m?{loading:!0,currentUser:null,errorCode:null}:{loading:!1,currentUser:null,errorCode:403}).currentUser,eu=(0,x.L)(),ed=(0,l.useRouter)(),ep=(0,D.A)(),ef=(0,A._P)({controlName:"flag-killswitch-agent"}),em=(0,A._P)({controlName:"flag-agent-onboarding-ws"}),eh=(0,P.U)(),ev=(0,$._)(),e_=function(e){ea("idle"),es(e.message),T.v4(function(r){r.setTag("start-with-ai",!0),T.Cp(e)}),null==ev||ev.end()},eg=(0,P.U)(),ey=(_=(v={currentUserUsername:er.username,currentUserEmail:er.email,currentUserTimeCreated:er.timeCreated}).currentUserUsername,j=v.currentUserEmail,q=v.currentUserTimeCreated,V=(0,A._P)({controlName:"flag-repl-creation-slack-bot-events"}),G=(0,R.m6)(),Z=(0,t._)(function(e){var r,n,a,o,i,l,c,u,d,p,f,m,h;return(0,s.YH)(this,function(v){switch(v.label){case 0:return r=e.prompt,n=e.uploadedFiles,a=e.attachedUrls,o=e.replId,i=e.currentUserId,l=e.orgId,c=(0,I.hVx)({currentUserId:i}),u=new I.ZnQ({clientId:c,serverId:U.wV,getEndpoint:(0,t._)(function(){var e,r;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,(0,U.j2)(o,c,l)];case 1:return e=n.sent(),(r=new URL((0,U.qK)())).searchParams.set("auth_token",e),[2,r]}})}),onProtocolError:function(e){throw Error("Failed to send agent prompt. Protocol error: ".concat(e.message))},onRetriesExceeded:function(){throw Error("Unable to connect. Please try again later.")}}),d=(0,I.ucN)({sessionType:I.dF3.AGENT_SESSION,replId:o}),[4,u.service.createSession.rpc(d)];case 1:if(!(p=v.sent()).ok)throw Error("Failed to send agent prompt. Session creation failed.");return f=p.payload.sessionId,m=p.payload.sessionCreationEventId,h=(0,I.kT_)({session:f,parent:m,model:I.e3q.ADVANCED,sender:{id:i,membership:I.VMq.CORE,timeCreated:new Date(q)},addToChild:!1,data:{kind:"message",message:r,uploadedFiles:n,attachedUrls:a,intent:I.qRv.AGENT}}),u.service.createEvent.rpc(h.request),(0,C.u4)(w.AZ.START_WITH_AI_USED,{action:"created_agent_session",prompt:r,attachments:n,attached_urls:a,repl_id:o,username:_,email:j,is_mobile:G,has_agent:!0,send_to_slack_bot:V,session_id:f,langsmith_url:(0,U.Yd)(f,I.dF3.AGENT_SESSION)}),(0,S.pI)({action:"created_new_session",sessionId:f}),[2]}})}),function(e){return Z.apply(this,arguments)}),eb=(W=(B={currentUserUsername:er.username,currentUserEmail:er.email,currentUserTimeCreated:er.timeCreated}).currentUserUsername,J=B.currentUserEmail,K=B.currentUserTimeCreated,Q=(0,A._P)({controlName:"flag-repl-creation-slack-bot-events"}),X=(0,R.m6)(),ee=(0,t._)(function(e){var r,n,a,o,i,l,c,u,d,p,f,m,h,v;return(0,s.YH)(this,function(_){switch(_.label){case 0:return r=e.prompt,n=e.attachments,a=e.attachedUrls,o=e.replId,i=e.currentUserId,l=e.orgId,c=(0,I.hVx)({currentUserId:i}),u=new I.ZnQ({clientId:c,serverId:U.wV,getEndpoint:(0,t._)(function(){var e,r;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,(0,U.j2)(o,c,l)];case 1:return e=n.sent(),(r=new URL((0,U.qK)())).searchParams.set("auth_token",e),[2,r]}})}),onProtocolError:function(e){throw Error("Failed to send agent prompt. Protocol error: ".concat(e.message))},onRetriesExceeded:function(){throw Error("Unable to connect. Please try again later.")}}),d=(0,I.ucN)({sessionType:I.dF3.REPL_CREATION_V3,replId:o}),[4,u.service.createSession.rpc(d)];case 1:if(!(p=_.sent()).ok)throw Error("Failed to send agent prompt. Session creation failed.");return f=p.payload.sessionId,m=p.payload.sessionCreationEventId,h=(0,O.j)({attachments:n,attachedUrls:a}),v=(0,I.kT_)({session:f,parent:m,model:I.e3q.ADVANCED,sender:{id:i,membership:I.VMq.CORE,timeCreated:new Date(K)},addToChild:!1,data:{kind:"message",message:r,intent:I.qRv.MESSAGE_ACTION_UNKNOWN,attachedForm:{formType:I.B73.ATTACHED_FORM_TYPE_REPL_CREATION_V1,fields:h}}}),u.service.createEvent.rpc(v.request),(0,C.u4)(w.AZ.START_WITH_AI_USED,{action:"created_lobby_session",prompt:r,repl_id:o,username:W,email:J,is_mobile:X,has_agent:!0,send_to_slack_bot:Q,session_id:f,langsmith_url:(0,U.Yd)(f,I.dF3.REPL_CREATION_V3)}),[2]}})}),function(e){return ee.apply(this,arguments)}),eT=(0,E.S)();function eE(){return(eE=(0,t._)(function(e){var r,n,t,i,l,c,u,d,p,f,m,h,v,_;return(0,s.YH)(this,function(s){switch(s.label){case 0:if(r=e.prompt,n=e.attachments,t=e.attachedUrls,i=e.isPrivate,l=e.teamId,c=e.orgId,ef)return es("This feature is currently unavailable."),ea("idle"),[2];return(0,k.O7)(),[4,(0,N.u9)()];case 1:return s.sent(),ea("creating_repl"),[4,el({variables:{input:{isUsingLobbySystem:eg,aiPromptText:r,aiPromptAttachmentPaths:n.map(function(e){return e.path}),folderId:eo,isPrivate:i,teamId:l,orgId:c}}})];case 2:if((u=s.sent()).errors)return e_(Error(u.errors.map(function(e){return e.message}).join(", "))),[2];if(!u.data)return e_(Error("Expected data from createRepl graphql mutation")),[2];if("message"in u.data.createRepl)return e_(Error(u.data.createRepl.message)),[2];if(d=u.data.createRepl,eh||eT({prompt:r,attachments:n,replId:d.id}),!((p=n&&n.length>0)&&!eh))return[3,4];return f=(0,H.O)({repl:d,currentUser:ec}),(m=(0,Y.Ay)({onUnrecoverableError:function(e){ea("idle"),es(e.message)}})).connect({context:f,getMinimumRetryDelayMs:eu}),ea("configuring_repl"),[4,function(e){return z.apply(this,arguments)}({hasAttachments:p,attachments:n,container:m,handleError:e_})];case 3:s.sent(),s.label=4;case 4:if(s.trys.push([4,9,,10]),!eg)return[3,6];return[4,eb({prompt:r,attachments:n,attachedUrls:t,replId:d.id,currentUserId:er.id,orgId:c})];case 5:return s.sent(),[3,8];case 6:return[4,ey({prompt:r,uploadedFiles:n.map(function(e){return{path:e.path,mimeType:e.file.type}}),attachedUrls:t,replId:d.id,currentUserId:er.id,orgId:c})];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:return e_((h=s.sent())instanceof Error?h:Error(String(h))),[2];case 10:if(ea("opening_repl"),v={enterInAgentMode:!0,agentOnboarding:(null==ec?void 0:ec.replCount.__typename)==="ReplCount"&&(null==ec?void 0:ec.replCount.count)===0&&em},_=(0,M.q1)(d,v),!ei)return[3,11];return window.location.href=(0,M.cY)(d,v),[3,13];case 11:return[4,ed.push((0,o._)((0,a._)({},_.href),{pathname:ep}),_.as)];case 12:s.sent(),s.label=13;case 13:return ea("idle"),[2]}})})).apply(this,arguments)}return{createAgentRepl:function(e){return eE.apply(this,arguments)},status:et}}function z(){return(z=(0,t._)(function(e){var r,n,t,a,o;return(0,s.YH)(this,function(i){switch(i.label){case 0:if(r=e.hasAttachments,n=e.container,t=e.attachments,a=e.handleError,!r)return[2];return o=(0,j.A)({container:n}),[4,(0,q.Zn)({parentPath:V.Ls,files:t.map(function(e){return e.file}),fs:o,onError:function(e){a(Error("Error uploading ".concat(e.path,": ").concat(e.error)))}})];case 1:return i.sent(),[2]}})})).apply(this,arguments)}},46838:(e,r,n)=>{n.d(r,{L:()=>i});var t=n(21462),a=n(20221),o=n(2960);function i(){var e=(0,a.RL)(),r=(0,o.A)(e);return(0,t.useCallback)(function(){var e,n;return!Number.isFinite(n=parseInt(null==(e=r.current)?void 0:e.variation("flag-container-retry-minimum-ms",0),10))||n<0?0:n},[r])}},61756:(e,r,n)=>{n.d(r,{S:()=>p});var t=n(12694),a=n(90629),o=n(17844),i=n(12584),s=n(41114),l=n(50175);function c(){var e=(0,i._)(["\n  mutation GenerateAgentReplIcon($prompt: String!, $replId: String!) {\n    generateReplIcon(input: { prompt: $prompt, replId: $replId }) {\n      ... on GenerateReplIconResult {\n        repl {\n          id\n          iconUrl\n        }\n      }\n    }\n  }\n"]);return c=function(){return e},e}var u={},d=(0,s.J1)(c());function p(){var e,r=(0,t._)((e=(0,o._)({},u,{onError:function(e){a.Cp(e)}}),l.n(d,e)),1)[0];return function(e){var n=e.prompt,t=e.attachments,a=e.replId;r({variables:{prompt:n+(t.length>0?"\n\nWith attachments: ".concat(t.map(function(e){return e.path}).join(", ")):""),replId:a}})}}},66199:(e,r,n)=>{n.d(r,{j:()=>s,k:()=>i});var t=n(17844),a=n(93629),o=n(86105),i=function(e,r){var n=new Map;if(e){var i=!0,s=!1,l=void 0;try{for(var c,u=e[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var d=c.value;if("attachments"===d.path&&(null===(p=d.formType)||void 0===p?void 0:p.$kind)==="files"){var p,f,m=n.get("attachments");if((null==m?void 0:null===(f=m.formType)||void 0===f?void 0:f.$kind)==="files"){var h=(0,a._)((0,t._)({},d),{formType:(0,a._)((0,t._)({},d.formType),{files:(0,a._)((0,t._)({},d.formType.files),{files:(0,o._)(m.formType.files.files).concat((0,o._)(d.formType.files.files))})})});n.set(d.path,h);continue}}n.set(d.path,d)}}catch(e){s=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(s)throw l}}}var v=!0,_=!1,g=void 0;try{for(var y,b=r[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var T=y.value;if("attachments"===T.path&&(null===(E=T.formType)||void 0===E?void 0:E.$kind)==="files"){var E,I,U=n.get("attachments");if((null==U?void 0:null===(I=U.formType)||void 0===I?void 0:I.$kind)==="files"){var w=(0,a._)((0,t._)({},T),{formType:(0,a._)((0,t._)({},T.formType),{files:(0,a._)((0,t._)({},T.formType.files),{files:(0,o._)(U.formType.files.files).concat((0,o._)(T.formType.files.files))})})});n.set(T.path,w);continue}}n.set(T.path,T)}}catch(e){_=!0,g=e}finally{try{v||null==b.return||b.return()}finally{if(_)throw g}}return Array.from(n.values())},s=function(e){var r=e.attachments,n=e.attachedUrls;return(0,o._)(r.filter(function(e){return!!e.publicUrl}).map(function(e){return{path:"attachments",formType:{files:{files:[{name:e.file.name,url:e.publicUrl,mimeType:e.file.type}]},$kind:"files"}}})).concat((0,o._)(n.map(function(e){return{path:"attachedUrls",formType:{files:{files:[{name:e.url,url:e.url,mimeType:"url/".concat(e.intent)}]},$kind:"files"}}})))}}}]);
//# sourceMappingURL=4009-d790a55d83b51796.js.map